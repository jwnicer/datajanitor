rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {

    // WARNING: These rules are permissive and are intended for development purposes only.
    // You must secure your database with proper authentication and authorization rules
    // before deploying to a production environment.

    // Allow anyone to read and write to the ruleSets, jobs, and webCache collections.
    match /ruleSets/{ruleSetId} {
      allow read, write: if true;
    }

    match /jobs/{jobId} {
      allow read, write: if true;

      match /issues/{issueId} {
        allow read, write: if true;
      }

      match /rows/{rowId} {
        allow read, write: if true;
      }
    }
    
    match /webCache/{cacheKey} {
       allow read, write: if true;
    }
  }
}
